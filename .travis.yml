language: go
go:
    - 1.1
    - 1.2
    - tip
install:
    - go get -v github.com/mattn/goveralls
    - go list -f '{{range .Imports}}{{.}} {{end}}' ./... | xargs go get -v
    - go list -f '{{range .TestImports}}{{.}} {{end}}' ./... | xargs go get -v
    - go build -v ./...
script:
    - go test -v -coverprofile=cover.out ./...
after_script:
    - goveralls -coverprofile=cover.out TOKEN_GOES_HERE
