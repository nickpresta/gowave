language: go
go:
    - 1.2
    - tip
install:
    - go list -f '{{range .Imports}}{{.}} {{end}}' ./... | xargs go get -v
    - go list -f '{{range .TestImports}}{{.}} {{end}}' ./... | xargs go get -v
    - go get code.google.com/p/go.tools/cmd/cover
    - go build -v ./...
script:
    - go test -v -coverprofile=cover.out ./wave
after_success:
    - go get -v github.com/mattn/goveralls
    - goveralls -coverprofile=cover.out skal80cDbbobV3oSWMYAQpnf3Bwsa2WOy
